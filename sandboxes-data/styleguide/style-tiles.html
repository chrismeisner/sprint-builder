<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tailwind Tiles – Layout Shell</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="stylesheet" href="./dist/tailwind.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Inter+Tight:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="tokens.css" />
  <link rel="stylesheet" href="base.css" />
  <link rel="stylesheet" href="sidebar-nav.css" />
  <style>
    /* Utility classes using design tokens */
    .text-brand { color: var(--brand-primary-500); }
    .bg-brand { background: var(--brand-primary-500); }
    
    /* Global button transitions */
    button, a.brand-btn {
      transition: background 200ms ease, background-color 200ms ease, transform 100ms ease;
    }
    button:active, a.brand-btn:active {
      transform: translateY(1px);
    }

    .brand-btn {
      background: var(--brand-primary-500);
    }
    .brand-btn:hover {
      background: var(--brand-primary-600);
    }
    .brand-btn:focus-visible,
    .focus-outline-brand:focus-visible {
      outline-color: var(--brand-primary-500);
    }
    .dark .text-brand { color: var(--brand-primary-500); }

    /* Content typography - only applies to elements with data-style attributes */
    [data-style="H1"],
    [data-style="H2"] {
      font-family: "Acme Gothic Condensed", var(--font-family-sans);
    }

    [data-style="H3"] {
      font-family: "Inter Tight", var(--font-family-sans);
    }

    [data-style="H4"],
    [data-style="H5"],
    [data-style="H6"],
    [data-style="Subtitle"],
    [data-style="Body / L"],
    [data-style="Body / M"],
    [data-style="Body / S"],
    [data-style="Caption"],
    [data-style="Label"],
    [data-style="Button"] {
      font-family: var(--font-family-sans);
    }

    /* Normalize type scales so each data-style is consistent */
    [data-style="H1"] {
      font-size: 60px !important;
      line-height: 1.0667;
      font-weight: 600;
      letter-spacing: 0em;
      text-transform: uppercase;
    }

    [data-style="H2"] {
      font-size: 48px !important;
      line-height: 1;
      font-weight: 600;
      letter-spacing: 0em;
      text-transform: uppercase;
      margin-bottom: 20px;
    }

    [data-style="H3"] {
      font-size: 22px !important;
      line-height: 1.18;
      font-weight: 600;
      letter-spacing: 0em;
    }

    [data-style="H4"] {
      font-size: 18px !important;
      line-height: 1.444;
      font-weight: 500;
      letter-spacing: -0.2px;
    }

    [data-style="Subtitle"] {
      font-size: 21px !important;
      line-height: 1.429;
      font-weight: 400;
      letter-spacing: -0.1px;
    }

    [data-style="Overline"] {
      font-size: 14px !important;
      line-height: 1.4;
      font-weight: 500;
      letter-spacing: 0.3px;
      text-transform: uppercase;
      font-family: var(--font-family-sans);
      margin-bottom: 12px;
    }

    @media (max-width: 640px) {
      [data-style="Overline"] {
        font-size: 18px !important;
      }
    }

    [data-style="Body / L"] {
      font-size: 20px !important;
      line-height: 1.3;
      font-weight: 400;
      letter-spacing: -0.4px;
    }

    @media (max-width: 640px) {
      [data-style="Body / L"] {
        line-height: 1.2;
      }
    }

    [data-style="Body / M"] {
      font-size: 16px !important;
      line-height: 1.5;
      font-weight: 400;
      letter-spacing: -0.015em;
    }

    [data-style="Body / S"] {
      font-size: 14px !important;
      line-height: 1.35;
      font-weight: 400;
      letter-spacing: -0.005em;
    }

    [data-style="Caption"] {
      font-size: 12px !important;
      line-height: 1.5;
      font-weight: 500;
      letter-spacing: 0.01em;
    }

    [data-style="Label"] {
      font-size: 13px !important;
      line-height: 1.4;
      font-weight: 400;
      letter-spacing: 0.01em;
    }

    [data-style="Button"] {
      font-size: 16px !important;
      line-height: 1.5;
      font-weight: 600;
      letter-spacing: 0.01em;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: var(--font-family-sans);
      background: var(--neutral-50);
      color: var(--neutral-900);
      -webkit-font-smoothing: antialiased;
    }

    .wrap {
      max-width: 1400px;
      margin: auto;
      padding: 32px 20px 0;
    }

    /* Page structure typography */
    h1 {
      margin: 0 0 8px;
      font-family: var(--font-family-sans);
      font-size: 28px;
      font-weight: 600;
      letter-spacing: -0.02em;
    }

    .subtitle {
      font-family: var(--font-family-sans);
      font-size: 15px;
      font-weight: 400;
      color: var(--neutral-700);
      margin: 0 0 28px;
      line-height: 1.5;
    }

    .card {
      background: var(--neutral-0);
      border: 1px solid var(--neutral-300);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px 14px;
      margin-bottom: 16px;
    }

    .section-title {
      margin: 0 0 12px;
      font-size: 18px;
      font-weight: 700;
      letter-spacing: -0.01em;
      color: var(--neutral-900);
    }

    .meta {
      font-size: 14px;
      color: var(--neutral-700);
      margin: 4px 0 0;
    }

    .tile-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 0;
    }

    .tile {
      --tile-bg: var(--neutral-0);
      border: none;
      border-radius: 0;
      background: transparent;
      padding: 16px;
      display: grid;
      gap: 10px;
      position: relative;
      transition: border-color 120ms ease, box-shadow 120ms ease, transform 80ms ease;
    }

    .tile::before {
      content: "";
      position: absolute;
      inset: 0;
      left: 50%;
      width: 100vw;
      transform: translateX(-50%);
      background: var(--tile-bg);
      z-index: 0;
    }

    .tile > * {
      position: relative;
      z-index: 1;
    }

    .tile-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .eyebrow {
      font-size: 12px;
      font-weight: 700;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      color: var(--neutral-500);
    }

    .status {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      background: var(--brand-primary-50);
      color: var(--brand-primary-500);
      font-weight: 600;
      font-size: 12px;
    }

    .status .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--brand-primary-500);
    }

    .tile-title {
      margin: 0;
      font-size: 18px;
      letter-spacing: -0.01em;
    }

    .tile-body {
      font-size: 14px;
      color: var(--neutral-700);
      line-height: 1.55;
    }

    .tile-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-start;
      flex-wrap: wrap;
    }

    /* vertical rhythm between tiles */
    .tile + .tile {
      margin-top: 0;
    }

    /* Global fade-in on page load */
    body {
      opacity: 0;
      animation: globalFadeIn 600ms ease forwards;
    }

    @keyframes globalFadeIn {
      to {
        opacity: 1;
      }
    }

    /* fade-in animation on scroll */
    .tile.fade-in {
      opacity: 0;
      transform: translateY(12px);
      transition: opacity 300ms ease, transform 300ms ease;
    }

    .tile.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Hover style label cursor */
    .cursor-label {
      position: fixed;
      top: 0;
      left: 0;
      transform: translate(-50%, -140%);
      background: rgba(17, 24, 39, 0.92);
      color: #fff;
      padding: 7px 9px;
      border-radius: 8px;
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.02em;
      pointer-events: none;
      white-space: normal;
      max-width: 260px;
      line-height: 1.4;
      box-shadow: 0 6px 18px rgba(0,0,0,0.18);
      opacity: 0;
      transition: opacity 120ms ease;
      z-index: 9999;
    }

    .cursor-label.show {
      opacity: 1;
    }

    .cursor-label__style {
      font-size: 12px;
      font-weight: 700;
      margin-bottom: 2px;
      letter-spacing: 0.02em;
    }

    .cursor-label__meta {
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.01em;
      opacity: 0.9;
    }

    .ghost-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 10px;
      border: 1px solid var(--neutral-200);
      background: var(--neutral-0);
      color: var(--neutral-900);
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      transition: border-color 120ms ease, box-shadow 120ms ease, transform 80ms ease;
    }

    .ghost-btn:hover {
      border-color: var(--brand-primary-500);
      box-shadow: 0 6px 18px rgba(17, 24, 39, 0.08);
    }

    .ghost-btn:active {
      transform: translateY(1px);
    }

    .header-controls {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .note {
      margin: 0;
      color: var(--neutral-500);
      font-size: 13px;
    }

    .colors-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .color-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      border: 1px solid var(--neutral-200);
      border-radius: 10px;
      background: var(--neutral-0);
    }

    .color-chip {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      border: 1px solid rgba(0,0,0,0.08);
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      flex-shrink: 0;
    }

    /* Hero image styling */
    .hero-media {
      border-radius: 6px;
      overflow: hidden;
    }

    .hero-media img {
      border-radius: inherit;
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .blog-image {
      border-radius: 6px;
    }

    .blog-image-ring {
      border-radius: 6px;
    }

    .settings-panel {
      display: grid;
      gap: 10px;
    }

    /* Signup tile - simplified */
    #tile-signup {
      --tile-bg: var(--brand-primary-600);
      padding: 0;
      background: transparent;
      border-color: transparent;
    }

    #tile-signup .signup-shell { 
      background: transparent;
      box-shadow: none; 
    }

    #tile-signup .footer-cta-btn:hover {
      background: var(--brand-primary-400) !important;
    }

    /* Font style labels */
    [data-style] {
      position: relative;
    }

    .style-label {
      position: absolute;
      top: 0;
      left: 0;
      transform: translate(-4px, -50%);
      background: rgba(17, 24, 39, 0.92);
      color: #fff;
      padding: 3px 6px;
      border-radius: 4px;
      font-size: 9px;
      font-weight: 700;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      pointer-events: none;
      white-space: nowrap;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      z-index: 100;
      opacity: 0;
      transition: opacity 150ms ease;
      font-family: var(--font-family-sans);
      line-height: 1;
    }

    body.show-font-styles .style-label {
      opacity: 1;
    }

    /* Toggle switch styles */
    .toggle-switch {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 10px;
      border: 1px solid var(--neutral-200);
      background: var(--neutral-0);
      color: var(--neutral-900);
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      transition: border-color 120ms ease, box-shadow 120ms ease;
    }

    .toggle-switch:hover {
      border-color: var(--brand-primary-500);
      box-shadow: 0 6px 18px rgba(17, 24, 39, 0.08);
    }

    .toggle-switch.active {
      background: var(--brand-primary-50);
      border-color: var(--brand-primary-500);
      color: var(--brand-primary-500);
    }

    .toggle-switch .toggle-indicator {
      width: 32px;
      height: 18px;
      border-radius: 9px;
      background: var(--neutral-300);
      position: relative;
      transition: background 150ms ease;
    }

    .toggle-switch .toggle-indicator::after {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: #fff;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
      transition: transform 150ms ease;
    }

    .toggle-switch.active .toggle-indicator {
      background: var(--brand-primary-500);
    }

    .toggle-switch.active .toggle-indicator::after {
      transform: translateX(14px);
    }

    body.wireframe-mode div {
      outline: 1px solid rgba(239, 68, 68, 0.9);
    }

    body.wireframe-mode * {
      outline: 1px dashed rgba(239, 68, 68, 0.4);
      outline-offset: -1px;
    }

    body.wireframe-mode .wireframe-label {
      position: absolute;
      top: 2px;
      left: 2px;
      padding: 2px 4px;
      border-radius: 4px;
      background: rgba(239, 68, 68, 0.95);
      color: #fff;
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.01em;
      line-height: 1.2;
      font-family: var(--font-family-sans);
      pointer-events: none;
      z-index: 9999;
      white-space: nowrap;
      opacity: 0;
      transition: opacity 120ms ease;
    }

    body.wireframe-mode .wireframe-label.is-active {
      opacity: 1;
      background: rgba(153, 27, 27, 0.95);
      z-index: 10000;
    }

    body.wireframe-mode *:hover > .wireframe-label {
      opacity: 1;
    }

    /* Nesting path tooltip */
    .nesting-tooltip {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(17, 24, 39, 0.96);
      color: #fff;
      padding: 10px 16px;
      border-radius: 10px;
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 0.01em;
      pointer-events: none;
      white-space: nowrap;
      max-width: 90vw;
      overflow-x: auto;
      box-shadow: 0 8px 24px rgba(0,0,0,0.25);
      opacity: 0;
      transition: opacity 150ms ease;
      z-index: 10001;
      font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
      line-height: 1.6;
    }

    body.wireframe-mode .nesting-tooltip.show {
      opacity: 1;
    }

    /* Mobile: make tiles full-bleed with no chrome */
    @media (max-width: 640px) {
      .header-controls {
        display: none;
      }

      #tilesContainer {
        margin-left: -6px;
        margin-right: -6px;
      }

      .tile {
        border: none;
        border-radius: 0;
        padding: 12px 10px;
        box-shadow: none;
        background: transparent;
        margin: 0;
      }

      .tile + .tile {
        margin-top: 0;
      }

    }

    /* =====================================================
       THEME SYSTEM (scoped to tiles only)
    ===================================================== */
    
    /* Theme selector dropdown */
    .theme-selector {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 10px;
      border: 1px solid var(--neutral-200);
      background: var(--neutral-0);
      color: var(--neutral-900);
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      transition: border-color 120ms ease, box-shadow 120ms ease;
    }

    .theme-selector:hover {
      border-color: var(--brand-primary-500);
      box-shadow: 0 6px 18px rgba(17, 24, 39, 0.08);
    }

    .theme-selector:focus {
      outline: none;
      border-color: var(--brand-primary-500);
      box-shadow: 0 0 0 3px var(--brand-primary-100);
    }

    .theme-selector-wrapper {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .theme-selector-label {
      font-size: 13px;
      font-weight: 600;
      color: var(--neutral-700);
    }

    /* -------------------------------------------------
       DARK MODE BASE (shared by all dark themes)
    ------------------------------------------------- */
    #tilesContainer.theme-dark {
      --neutral-0: #1f2937;
      --neutral-50: #111827;
      --neutral-100: #1f2937;
      --neutral-200: #374151;
      --neutral-300: #4b5563;
      --neutral-400: #6b7280;
      --neutral-500: #9ca3af;
      --neutral-600: #d1d5db;
      --neutral-700: #e5e7eb;
      --neutral-800: #f3f4f6;
      --neutral-900: #f9fafb;
      --neutral-950: #ffffff;
    }

    #tilesContainer.theme-dark .tile {
      --tile-bg: var(--neutral-0);
      border-color: var(--neutral-200);
    }

    #tilesContainer.theme-dark .bg-white {
      background: #1f2937 !important;
    }

    #tilesContainer.theme-dark .text-gray-900 {
      color: #f9fafb !important;
    }

    #tilesContainer.theme-dark .text-gray-600 {
      color: #d1d5db !important;
    }

    #tilesContainer.theme-dark .text-gray-500 {
      color: #9ca3af !important;
    }

    #tilesContainer.theme-dark .bg-gray-50 {
      background: #374151 !important;
    }

    #tilesContainer.theme-dark .bg-gray-100 {
      background: #1f2937 !important;
    }

    #tilesContainer.theme-dark .ring-gray-900\/10 {
      --tw-ring-color: rgba(255, 255, 255, 0.1) !important;
    }

    #tilesContainer.theme-secondary-light #tile-hero,
    #tilesContainer.theme-surface-light #tile-hero,
    #tilesContainer:not(.theme-secondary-light):not(.theme-secondary-dark):not(.theme-surface-light):not(.theme-surface-dark):not(.theme-neutral-light):not(.theme-neutral-dark):not(.theme-primary-dark) #tile-hero {
      --tile-bg: var(--brand-secondary-100);
    }

    #tile-hero .bg-white {
      background: transparent !important;
    }

    #tile-hero {
      padding-top: 60px;
      padding-bottom: 60px;
    }

    /* -------------------------------------------------
       PRIMARY (Green) - default accent, no override needed for light
    ------------------------------------------------- */
    /* Primary Light: default styles, no changes needed */

    /* Primary Dark: dark mode with green accent */
    #tilesContainer.theme-primary-dark {
      --neutral-0: #1f2937;
      --neutral-50: #111827;
      --neutral-100: #1f2937;
      --neutral-200: #374151;
      --neutral-300: #4b5563;
      --neutral-400: #6b7280;
      --neutral-500: #9ca3af;
      --neutral-600: #d1d5db;
      --neutral-700: #e5e7eb;
      --neutral-800: #f3f4f6;
      --neutral-900: #f9fafb;
      --neutral-950: #ffffff;
    }

    #tilesContainer.theme-primary-dark .tile {
      --tile-bg: var(--brand-primary-900);
      border-color: transparent;
    }

    #tilesContainer.theme-primary-dark .bg-white {
      background: transparent !important;
    }

    #tilesContainer.theme-primary-dark .text-gray-900 {
      color: #f9fafb !important;
    }

    #tilesContainer.theme-primary-dark .text-gray-600 {
      color: #d1d5db !important;
    }

    #tilesContainer.theme-primary-dark .text-gray-500 {
      color: #9ca3af !important;
    }

    #tilesContainer.theme-primary-dark .bg-gray-50 {
      background: #374151 !important;
    }

    #tilesContainer.theme-primary-dark .bg-gray-100 {
      background: #1f2937 !important;
    }

    #tilesContainer.theme-primary-dark .ring-gray-900\/10 {
      --tw-ring-color: rgba(255, 255, 255, 0.1) !important;
    }

    #tilesContainer.theme-primary-dark #tile-hero [data-style="H1"] {
      color: var(--brand-primary-100) !important;
    }

    #tilesContainer.theme-primary-dark #tile-blog-grid [data-style="H2"] {
      color: var(--brand-primary-100) !important;
    }

    #tilesContainer.theme-primary-dark #tile-signup {
      --tile-bg: var(--brand-primary-950);
    }

    #tilesContainer.theme-primary-dark #tile-blog-grid [data-style="H3"] {
      color: var(--brand-tertiary-100) !important;
    }

    #tilesContainer.theme-primary-dark #tile-blog-grid [data-style="Body / S"] {
      color: var(--brand-primary-200) !important;
    }

    #tilesContainer.theme-primary-dark #tile-blog-grid [data-style="Label"] {
      color: var(--brand-primary-300) !important;
    }

    #tilesContainer.theme-primary-dark #tile-blog-grid a[data-style="Label"] {
      background: var(--brand-primary-800) !important;
      color: var(--brand-primary-300) !important;
    }

    #tilesContainer.theme-primary-dark #tile-hero [data-style="H4"] {
      color: var(--brand-primary-400) !important;
    }

    #tilesContainer.theme-primary-dark #tile-signup input[type="email"] {
      background: #ffffff !important;
      color: #000000 !important;
    }

    #tilesContainer.theme-primary-dark #tile-signup input[type="email"]::placeholder {
      color: #000000 !important;
    }

    /* -------------------------------------------------
       SECONDARY (Blue/Sky) accent
    ------------------------------------------------- */
    #tilesContainer.theme-secondary-light,
    #tilesContainer.theme-secondary-dark {
      --brand-primary-50: var(--brand-tertiary-50);
      --brand-primary-100: var(--brand-tertiary-100);
      --brand-primary-200: var(--brand-tertiary-200);
      --brand-primary-300: var(--brand-tertiary-300);
      --brand-primary-400: var(--brand-tertiary-400);
      --brand-primary-500: var(--brand-tertiary-500);
      --brand-primary-600: var(--brand-tertiary-600);
      --brand-primary-700: var(--brand-tertiary-700);
      --brand-primary-800: var(--brand-tertiary-800);
      --brand-primary-900: var(--brand-tertiary-900);
      --brand-primary-950: var(--brand-tertiary-950);
    }

    #tilesContainer.theme-secondary-light .bg-\[\#37A350\],
    #tilesContainer.theme-secondary-dark .bg-\[\#37A350\] {
      background: #008CE5 !important;
    }

    #tilesContainer.theme-secondary-light .brand-btn,
    #tilesContainer.theme-secondary-dark .brand-btn {
      background: var(--brand-tertiary-500) !important;
    }

    #tilesContainer.theme-secondary-light .brand-btn:hover,
    #tilesContainer.theme-secondary-dark .brand-btn:hover {
      background: var(--brand-tertiary-600) !important;
    }

    #tilesContainer.theme-secondary-light .footer-cta-btn {
      background: var(--brand-tertiary-500) !important;
    }

    #tilesContainer.theme-secondary-light .footer-cta-btn:hover {
      background: var(--brand-tertiary-400) !important;
    }

    #tilesContainer.theme-secondary-light [style*="color: var(--brand-primary-700)"] {
      color: var(--brand-tertiary-700) !important;
    }

    #tilesContainer.theme-secondary-light [style*="color: var(--brand-primary-800)"] {
      color: var(--brand-tertiary-800) !important;
    }

    #tilesContainer.theme-secondary-light [style*="color: var(--brand-primary-900)"] {
      color: var(--brand-tertiary-900) !important;
    }

    #tilesContainer.theme-secondary-light [style*="background: var(--brand-primary-200)"] {
      background: var(--brand-tertiary-200) !important;
    }

    #tilesContainer.theme-secondary-light [style*="background: var(--brand-primary-600)"] {
      background: var(--brand-tertiary-600) !important;
    }

    #tilesContainer.theme-secondary-light [style*="color: var(--brand-primary-100)"] {
      color: var(--brand-tertiary-100) !important;
    }

    #tilesContainer.theme-secondary-light [style*="color: var(--brand-primary-600)"],
    #tilesContainer.theme-secondary-dark [style*="color: var(--brand-primary-600)"] {
      color: var(--brand-tertiary-600) !important;
    }

    /* Secondary Dark: dark mode */
    #tilesContainer.theme-secondary-dark {
      --neutral-0: #1f2937;
      --neutral-50: #111827;
      --neutral-100: #1f2937;
      --neutral-200: #374151;
      --neutral-300: #4b5563;
      --neutral-400: #6b7280;
      --neutral-500: #9ca3af;
      --neutral-600: #d1d5db;
      --neutral-700: #e5e7eb;
      --neutral-800: #f3f4f6;
      --neutral-900: #f9fafb;
      --neutral-950: #ffffff;
    }

    #tilesContainer.theme-secondary-dark .tile {
      --tile-bg: var(--brand-tertiary-900);
      border-color: transparent;
    }

    #tilesContainer.theme-secondary-dark .bg-white {
      background: transparent !important;
    }

    #tilesContainer.theme-secondary-dark .text-gray-900 {
      color: #f9fafb !important;
    }

    #tilesContainer.theme-secondary-dark .text-gray-600 {
      color: #d1d5db !important;
    }

    #tilesContainer.theme-secondary-dark .text-gray-500 {
      color: #9ca3af !important;
    }

    #tilesContainer.theme-secondary-dark .bg-gray-50 {
      background: #374151 !important;
    }

    #tilesContainer.theme-secondary-dark .bg-gray-100 {
      background: #1f2937 !important;
    }

    #tilesContainer.theme-secondary-dark .ring-gray-900\/10 {
      --tw-ring-color: rgba(255, 255, 255, 0.1) !important;
    }

    #tilesContainer.theme-secondary-dark #tile-hero [data-style="H1"] {
      color: var(--brand-tertiary-100) !important;
    }

    #tilesContainer.theme-secondary-dark #tile-hero [data-style="H4"] {
      color: var(--brand-tertiary-400) !important;
    }

    #tilesContainer.theme-secondary-dark #tile-blog-grid [data-style="H2"] {
      color: var(--brand-tertiary-100) !important;
    }

    #tilesContainer.theme-secondary-dark #tile-blog-grid [data-style="H3"] {
      color: var(--brand-tertiary-100) !important;
    }

    #tilesContainer.theme-secondary-dark #tile-blog-grid [data-style="Body / S"] {
      color: var(--brand-tertiary-200) !important;
    }

    #tilesContainer.theme-secondary-dark #tile-blog-grid [data-style="Label"] {
      color: var(--brand-tertiary-300) !important;
    }

    #tilesContainer.theme-secondary-dark #tile-blog-grid a[data-style="Label"] {
      background: var(--brand-tertiary-800) !important;
      color: var(--brand-tertiary-300) !important;
    }

    #tilesContainer.theme-secondary-dark #tile-signup {
      --tile-bg: var(--brand-tertiary-950);
    }

    #tilesContainer.theme-secondary-dark #tile-signup input[type="email"] {
      background: #ffffff !important;
      color: #000000 !important;
    }

    #tilesContainer.theme-secondary-dark #tile-signup input[type="email"]::placeholder {
      color: #000000 !important;
    }

    /* -------------------------------------------------
       SURFACE (Sand) accent
    ------------------------------------------------- */
    #tilesContainer.theme-surface-light,
    #tilesContainer.theme-surface-dark {
      --brand-primary-50: var(--brand-secondary-50);
      --brand-primary-100: var(--brand-secondary-100);
      --brand-primary-200: var(--brand-secondary-200);
      --brand-primary-300: var(--brand-secondary-300);
      --brand-primary-400: var(--brand-secondary-400);
      --brand-primary-500: var(--brand-secondary-500);
      --brand-primary-600: var(--brand-secondary-600);
      --brand-primary-700: var(--brand-secondary-700);
      --brand-primary-800: var(--brand-secondary-800);
      --brand-primary-900: var(--brand-secondary-900);
      --brand-primary-950: var(--brand-secondary-950);
    }

    #tilesContainer.theme-surface-light .bg-\[\#37A350\],
    #tilesContainer.theme-surface-dark .bg-\[\#37A350\] {
      background: #E5900C !important;
    }

    #tilesContainer.theme-surface-light .brand-btn,
    #tilesContainer.theme-surface-dark .brand-btn {
      background: var(--brand-secondary-500) !important;
    }

    #tilesContainer.theme-surface-light .brand-btn:hover,
    #tilesContainer.theme-surface-dark .brand-btn:hover {
      background: var(--brand-secondary-600) !important;
    }

    #tilesContainer.theme-surface-light .footer-cta-btn {
      background: var(--brand-secondary-500) !important;
    }

    #tilesContainer.theme-surface-light .footer-cta-btn:hover {
      background: var(--brand-secondary-400) !important;
    }

    #tilesContainer.theme-surface-light [style*="color: var(--brand-primary-700)"] {
      color: var(--brand-secondary-700) !important;
    }

    #tilesContainer.theme-surface-light [style*="color: var(--brand-primary-800)"] {
      color: var(--brand-secondary-800) !important;
    }

    #tilesContainer.theme-surface-light [style*="color: var(--brand-primary-900)"] {
      color: var(--brand-secondary-900) !important;
    }

    #tilesContainer.theme-surface-light [style*="background: var(--brand-primary-200)"] {
      background: var(--brand-secondary-200) !important;
    }

    #tilesContainer.theme-surface-light [style*="background: var(--brand-primary-600)"] {
      background: var(--brand-secondary-600) !important;
    }

    #tilesContainer.theme-surface-light [style*="color: var(--brand-primary-100)"] {
      color: var(--brand-secondary-100) !important;
    }

    #tilesContainer.theme-surface-light [style*="color: var(--brand-primary-600)"],
    #tilesContainer.theme-surface-dark [style*="color: var(--brand-primary-600)"] {
      color: var(--brand-secondary-600) !important;
    }

    /* Surface Dark: dark mode */
    #tilesContainer.theme-surface-dark {
      --neutral-0: #1f2937;
      --neutral-50: #111827;
      --neutral-100: #1f2937;
      --neutral-200: #374151;
      --neutral-300: #4b5563;
      --neutral-400: #6b7280;
      --neutral-500: #9ca3af;
      --neutral-600: #d1d5db;
      --neutral-700: #e5e7eb;
      --neutral-800: #f3f4f6;
      --neutral-900: #f9fafb;
      --neutral-950: #ffffff;
    }

    #tilesContainer.theme-surface-dark .tile {
      --tile-bg: var(--brand-secondary-900);
      border-color: transparent;
    }

    #tilesContainer.theme-surface-dark .bg-white {
      background: transparent !important;
    }

    #tilesContainer.theme-surface-dark .text-gray-900 {
      color: #f9fafb !important;
    }

    #tilesContainer.theme-surface-dark .text-gray-600 {
      color: #d1d5db !important;
    }

    #tilesContainer.theme-surface-dark .text-gray-500 {
      color: #9ca3af !important;
    }

    #tilesContainer.theme-surface-dark .bg-gray-50 {
      background: #374151 !important;
    }

    #tilesContainer.theme-surface-dark .bg-gray-100 {
      background: #1f2937 !important;
    }

    #tilesContainer.theme-surface-dark .ring-gray-900\/10 {
      --tw-ring-color: rgba(255, 255, 255, 0.1) !important;
    }

    #tilesContainer.theme-surface-dark #tile-hero [data-style="H1"] {
      color: var(--brand-secondary-100) !important;
    }

    #tilesContainer.theme-surface-dark #tile-hero [data-style="H4"] {
      color: var(--brand-secondary-400) !important;
    }

    #tilesContainer.theme-surface-dark #tile-blog-grid [data-style="H2"] {
      color: var(--brand-secondary-100) !important;
    }

    #tilesContainer.theme-surface-dark #tile-blog-grid [data-style="H3"] {
      color: var(--brand-secondary-100) !important;
    }

    #tilesContainer.theme-surface-dark #tile-blog-grid [data-style="Body / S"] {
      color: var(--brand-secondary-200) !important;
    }

    #tilesContainer.theme-surface-dark #tile-blog-grid [data-style="Label"] {
      color: var(--brand-secondary-300) !important;
    }

    #tilesContainer.theme-surface-dark #tile-blog-grid a[data-style="Label"] {
      background: var(--brand-secondary-800) !important;
      color: var(--brand-secondary-300) !important;
    }

    #tilesContainer.theme-surface-dark #tile-signup {
      --tile-bg: var(--brand-secondary-950);
    }

    #tilesContainer.theme-surface-dark #tile-signup input[type="email"] {
      background: #ffffff !important;
      color: #000000 !important;
    }

    #tilesContainer.theme-surface-dark #tile-signup input[type="email"]::placeholder {
      color: #000000 !important;
    }

    /* -------------------------------------------------
       NEUTRAL (Gray) accent
    ------------------------------------------------- */
    #tilesContainer.theme-neutral-light,
    #tilesContainer.theme-neutral-dark {
      --brand-primary-50: var(--neutral-50);
      --brand-primary-100: var(--neutral-100);
      --brand-primary-200: var(--neutral-200);
      --brand-primary-300: var(--neutral-300);
      --brand-primary-400: var(--neutral-400);
      --brand-primary-500: var(--neutral-500);
      --brand-primary-600: var(--neutral-600);
      --brand-primary-700: var(--neutral-700);
      --brand-primary-800: var(--neutral-800);
      --brand-primary-900: var(--neutral-900);
      --brand-primary-950: var(--neutral-950);
    }

    #tilesContainer.theme-neutral-light .bg-\[\#37A350\] {
      background: #4D4B49 !important;
    }

    #tilesContainer.theme-neutral-light .brand-btn {
      background: #4D4B49 !important;
    }

    #tilesContainer.theme-neutral-light .brand-btn:hover {
      background: #363432 !important;
    }

    #tilesContainer.theme-neutral-light .status {
      background: var(--neutral-100) !important;
      color: var(--neutral-700) !important;
    }

    #tilesContainer.theme-neutral-light .status .dot {
      background: var(--neutral-500) !important;
    }

    #tilesContainer.theme-neutral-light [style*="color: var(--brand-primary-600)"] {
      color: var(--neutral-600) !important;
    }

    /* Neutral Dark */
    #tilesContainer.theme-neutral-dark {
      --neutral-0: #1f2937;
      --neutral-50: #111827;
      --neutral-100: #1f2937;
      --neutral-200: #374151;
      --neutral-300: #4b5563;
      --neutral-400: #6b7280;
      --neutral-500: #9ca3af;
      --neutral-600: #d1d5db;
      --neutral-700: #e5e7eb;
      --neutral-800: #f3f4f6;
      --neutral-900: #f9fafb;
      --neutral-950: #ffffff;
      --brand-primary-50: #374151;
      --brand-primary-100: #4b5563;
      --brand-primary-200: #6b7280;
      --brand-primary-300: #9ca3af;
      --brand-primary-400: #d1d5db;
      --brand-primary-500: #e5e7eb;
      --brand-primary-600: #f3f4f6;
      --brand-primary-700: #f9fafb;
      --brand-primary-800: #ffffff;
      --brand-primary-900: #ffffff;
      --brand-primary-950: #ffffff;
    }

    #tilesContainer.theme-neutral-dark .tile {
      --tile-bg: var(--neutral-0);
      border-color: var(--neutral-200);
    }

    #tilesContainer.theme-neutral-dark .bg-white {
      background: #1f2937 !important;
    }

    #tilesContainer.theme-neutral-dark .bg-\[\#37A350\] {
      background: #6b7280 !important;
    }

    #tilesContainer.theme-neutral-dark .brand-btn {
      background: #6b7280 !important;
    }

    #tilesContainer.theme-neutral-dark .brand-btn:hover {
      background: #9ca3af !important;
    }

    #tilesContainer.theme-neutral-dark .status {
      background: #374151 !important;
      color: #d1d5db !important;
    }

    #tilesContainer.theme-neutral-dark .status .dot {
      background: #9ca3af !important;
    }

    #tilesContainer.theme-neutral-dark .text-gray-900 {
      color: #f9fafb !important;
    }

    #tilesContainer.theme-neutral-dark .text-gray-600 {
      color: #d1d5db !important;
    }

    #tilesContainer.theme-neutral-dark .text-gray-500 {
      color: #9ca3af !important;
    }

    #tilesContainer.theme-neutral-dark .bg-gray-50 {
      background: #374151 !important;
    }

    #tilesContainer.theme-neutral-dark .bg-gray-100 {
      background: #1f2937 !important;
    }

    #tilesContainer.theme-neutral-dark .ring-gray-900\/10 {
      --tw-ring-color: rgba(255, 255, 255, 0.1) !important;
    }

    #tilesContainer.theme-neutral-dark [style*="color: var(--brand-primary-600)"] {
      color: #d1d5db !important;
    }

    /* Smooth transitions when changing themes */
    #tilesContainer .tile,
    #tilesContainer .brand-btn,
    #tilesContainer .status {
      transition: background-color 200ms ease, color 200ms ease, border-color 200ms ease;
    }

    /* =====================================================
       FONT THEME SYSTEM (scoped to tiles only)
    ===================================================== */

    /* Google Slides font theme - swap Acme Gothic → Special Gothic */
    #tilesContainer.font-google-slides [data-style="H1"],
    #tilesContainer.font-google-slides [data-style="H2"] {
      font-family: 'Special Gothic Condensed One', var(--font-family-sans) !important;
      font-weight: 400 !important;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="mb-6">
      <div class="flex items-start justify-between gap-4 mb-4">
        <div>
          <h1 class="text-2xl font-bold text-gray-900 mb-1">Style Tiles</h1>
          <p class="subtitle">Interactive component layouts showcasing our design system in context.</p>
        </div>
        <div class="flex items-center gap-2">
          <div id="tailwind-status" class="admin-only inline-flex items-center gap-2 rounded-full border border-yellow-200 bg-yellow-50 px-3 py-1 text-sm font-semibold text-yellow-700" style="display: none;">
            <span class="size-2.5 rounded-full bg-yellow-500"></span>
            Tailwind: checking…
          </div>
        </div>
      </div>
      <div class="flex items-center justify-center gap-2 flex-wrap" style="padding-bottom: 24px; width: 100%;">
        <div class="theme-selector-wrapper">
          <label for="themeSelector" class="theme-selector-label">Color</label>
          <select id="themeSelector" class="theme-selector" title="Change color theme">
            <option value="primary-light">Primary Light</option>
            <option value="primary-dark">Primary Dark</option>
            <option value="secondary-light">Secondary Light</option>
            <option value="secondary-dark">Secondary Dark</option>
            <option value="surface-light">Surface Light</option>
            <option value="surface-dark">Surface Dark</option>
          </select>
        </div>
        <div class="theme-selector-wrapper">
          <label for="fontThemeSelector" class="theme-selector-label">H1</label>
          <select id="fontThemeSelector" class="theme-selector" title="Change font theme">
            <option value="default">Acme</option>
            <option value="google-slides">Special Gothic</option>
          </select>
        </div>
        <div class="theme-selector-wrapper">
          <label for="iconSelector" class="theme-selector-label">Icon</label>
          <select id="iconSelector" class="theme-selector" title="Change blog icon">
            <option value="miles-icon-green">Badge</option>
            <option value="miles-icon-arrow-green">Arrow</option>
          </select>
        </div>
        <button id="toggleHoverLabelBtn" class="toggle-switch" title="Show font style on mouse hover">
          <span class="toggle-indicator"></span>
          Show Labels
        </button>
        <button id="toggleFontStylesBtn" class="toggle-switch admin-only" title="Show style labels on all typography" style="display: none;">
          <span class="toggle-indicator"></span>
          Font styles
        </button>
        <button id="toggleColorHoverBtn" class="toggle-switch admin-only" title="Show color info on mouse hover" style="display: none;">
          <span class="toggle-indicator"></span>
          Color rollover
        </button>
        <button id="toggleWireframeBtn" class="toggle-switch admin-only" title="Show wireframe outlines" style="display: none;">
          <span class="toggle-indicator"></span>
          Wireframe mode
        </button>
        <button id="toggleSettingsBtn" class="ghost-btn admin-only" style="display: none;">Show settings</button>
      </div>
    </div>

    <div id="settingsPanel" class="settings-panel" style="display:none;">
      <div class="card" style="padding: 10px 12px; margin-bottom: 12px;">
        <div style="font-size: 14px; font-weight: 700; margin-bottom: 6px;">Toggle tiles</div>
        <div id="tileToggles" style="display: flex; gap: 10px; flex-wrap: wrap; font-size: 13px; color: var(--neutral-700);">
          <label style="display: inline-flex; align-items: center; gap: 6px;">
            <input type="checkbox" data-target="tile-hero" checked />
            Hero Split
          </label>
          <label style="display: inline-flex; align-items: center; gap: 6px;">
            <input type="checkbox" data-target="tile-blog-grid" checked />
            Blog Grid
          </label>
          <label style="display: inline-flex; align-items: center; gap: 6px;">
            <input type="checkbox" data-target="tile-signup" checked />
            Signup CTA
          </label>
        </div>
      </div>

      <div class="card" style="padding: 10px 12px; margin-bottom: 12px;">
        <div style="font-size: 14px; font-weight: 700; margin-bottom: 6px;">Reorder tiles</div>
        <div id="tileOrderList" style="display: grid; gap: 6px; font-size: 13px; color: var(--neutral-700);"></div>
      </div>
    </div>

    <div id="tilesContainer">
    <article class="tile" id="tile-hero">
      <div class="relative bg-white dark:bg-gray-900">
        <div class="relative h-80 overflow-hidden bg-brand md:absolute md:left-0 md:h-full md:w-1/3 lg:w-1/2 hero-media">
          <img src="./images/scene-01.jpg" alt="" class="size-full object-cover" />
          <svg viewBox="0 0 926 676" aria-hidden="true" class="absolute -bottom-24 left-24 w-[57.875rem] transform-gpu blur-[118px]">
            <path d="m254.325 516.708-90.89 158.331L0 436.427l254.325 80.281 163.691-285.15c1.048 131.759 36.144 345.144 168.149 144.613C751.171 125.508 707.17-93.823 826.603 41.15c95.546 107.978 104.766 294.048 97.432 373.585L685.481 297.694l16.974 360.474-448.13-141.46Z" fill="url(#60c3c621-93e0-4a09-a0e6-4c228a0116d8)" fill-opacity=".4" />
            <defs>
              <linearGradient id="60c3c621-93e0-4a09-a0e6-4c228a0116d8" x1="926.392" x2="-109.635" y1=".176" y2="321.024" gradientUnits="userSpaceOnUse">
                <stop stop-color="#776FFF" />
                <stop offset="1" stop-color="#FF4694" />
              </linearGradient>
            </defs>
          </svg>
        </div>
        <div class="relative mx-auto max-w-7xl py-10 sm:py-10 lg:px-8 lg:py-10">
          <div class="pl-6 pr-6 md:ml-auto md:w-2/3 md:pl-16 lg:w-1/2 lg:pl-24 lg:pr-0 xl:pl-32" style="padding-top: 40px; padding-bottom: 40px;">
            <img src="./images/miles-logos/miles-badge-green.svg" alt="Miles" style="width: 100px; height: 100px; max-width: 100px; margin-bottom: 32px;" />
            <h2 class="text-base/7 font-semibold" style="color: var(--brand-primary-700);" data-style="H4">Built for families with new drivers</h2>
            <p class="mt-2 text-4xl font-semibold tracking-tight sm:text-5xl dark:text-white" style="color: var(--brand-primary-900);" data-style="H1">Confidence For Every Drive</p>
            <p class="mt-4 text-base/7 dark:text-gray-300" style="color: var(--neutral-700);" data-style="Body / L">When your teen starts driving, everything changes. Miles helps families stay calm, informed, and prepared — without constant check-ins or invasive tracking.</p>
            <div class="mt-8">
              <a href="#" class="inline-flex rounded-md brand-btn px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-outline-brand dark:shadow-none" data-style="Button">See How Miles Works</a>
            </div>
          </div>
        </div>
      </div>
    </article>
    <article class="tile" id="tile-blog-grid">
      <div class="bg-white py-6 sm:py-16 dark:bg-gray-900">
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
          <div class="mx-auto text-center" style="max-width: 75%;">
            <p class="text-xs font-semibold uppercase tracking-[0.08em] dark:text-gray-400" style="color: var(--brand-primary-800);" data-style="Overline">From the Team</p>
            <h2 class="text-balance text-4xl font-semibold tracking-tight sm:text-5xl dark:text-white" style="color: var(--brand-primary-900);" data-style="H2">Guides for modern driving families</h2>
            <p class="dark:text-gray-300" style="color: var(--neutral-700);" data-style="Body / L">Thoughtful takes on teen driving, trust, safety, and the moments that matter when your family adds a new driver.</p>
          </div>
          <div class="mx-auto mt-16 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-3">
            <article class="flex flex-col items-start justify-between">
              <div class="relative w-full">
                <img src="./images/scene-03.jpg" alt="" class="aspect-video w-full blog-image bg-gray-100 object-cover sm:aspect-[2/1] lg:aspect-[3/2] dark:bg-gray-800" />
                <div class="absolute inset-0 blog-image-ring ring-1 ring-inset ring-gray-900/10 dark:ring-white/10"></div>
              </div>
              <div class="flex max-w-xl grow flex-col justify-between">
                <div class="mt-2 flex items-center gap-x-4 text-xs">
                  <time datetime="2020-03-16" class="text-gray-500 dark:text-gray-400" data-style="Caption">Mar 16, 2020</time>
                  <a href="#" class="relative z-10 rounded-full px-3 py-1.5 font-medium dark:bg-gray-800/60 dark:text-gray-300 dark:hover:bg-gray-800" style="background: var(--brand-primary-200); color: var(--brand-primary-800);" data-style="Label">Teen Safety</a>
                </div>
                <div class="group relative grow">
                  <h3 class="mt-2 text-lg/6 font-semibold group-hover:opacity-80 dark:text-white dark:group-hover:text-gray-300" style="color: var(--brand-primary-900);" data-style="H3">
                    <a href="#">
                      <span class="absolute inset-0"></span>
                      What parents actually worry about when teens start driving
                    </a>
                  </h3>
                  <p class="mt-5 line-clamp-3 dark:text-gray-400" style="color: var(--neutral-700);" data-style="Body / M">Most parents don’t want more data — they want reassurance. We break down the real fears families have during the first year of teen driving, and what actually helps reduce anxiety.</p>
                </div>
                <div class="relative mt-4 flex items-center gap-x-4 justify-self-end">
                  <img src="./images/miles-logos/miles-icon-green.png" alt="" class="size-10 rounded-full bg-gray-100 dark:bg-gray-800" data-blog-icon />
                  <div class="text-sm/6">
                    <p class="font-semibold dark:text-white" style="color: var(--brand-primary-900);" data-style="Body / S">
                      <a href="#">
                        <span class="absolute inset-0"></span>
                        Miles Team
                      </a>
                    </p>
                    <p class="dark:text-gray-400" style="color: var(--neutral-500);" data-style="Label">Product & Research</p>
                  </div>
                </div>
              </div>
            </article>
            <article class="flex flex-col items-start justify-between">
              <div class="relative w-full">
                <img src="./images/scene-02.jpg" alt="" class="aspect-video w-full blog-image bg-gray-100 object-cover sm:aspect-[2/1] lg:aspect-[3/2] dark:bg-gray-800" />
                <div class="absolute inset-0 blog-image-ring ring-1 ring-inset ring-gray-900/10 dark:ring-white/10"></div>
              </div>
              <div class="flex max-w-xl grow flex-col justify-between">
                <div class="mt-2 flex items-center gap-x-4 text-xs">
                  <time datetime="2020-03-10" class="text-gray-500 dark:text-gray-400" data-style="Caption">Mar 10, 2020</time>
                  <a href="#" class="relative z-10 rounded-full px-3 py-1.5 font-medium dark:bg-gray-800/60 dark:text-gray-300 dark:hover:bg-gray-800" style="background: var(--brand-primary-200); color: var(--brand-primary-800);" data-style="Label">Insurance</a>
                </div>
                <div class="group relative grow">
                  <h3 class="mt-2 text-lg/6 font-semibold group-hover:opacity-80 dark:text-white dark:group-hover:text-gray-300" style="color: var(--brand-primary-900);" data-style="H3">
                    <a href="#">
                      <span class="absolute inset-0"></span>
                      How safe driving data can lower your insurance bill
                    </a>
                  </h3>
                  <p class="mt-5 line-clamp-3 dark:text-gray-400" style="color: var(--neutral-700);" data-style="Body / M">Teen insurance doesn’t have to be a black hole. Here’s how driver scores work, why families hate insurance dongles, and how Miles puts you back in control.</p>
                </div>
                <div class="relative mt-4 flex items-center gap-x-4 justify-self-end">
                  <img src="./images/miles-logos/miles-icon-green.png" alt="" class="size-10 rounded-full bg-gray-100 dark:bg-gray-800" data-blog-icon />
                  <div class="text-sm/6">
                    <p class="font-semibold dark:text-white" style="color: var(--brand-primary-900);" data-style="Body / S">
                      <a href="#">
                        <span class="absolute inset-0"></span>
                        Miles Team
                      </a>
                    </p>
                    <p class="dark:text-gray-400" style="color: var(--neutral-500);" data-style="Label">Insurance & Partnerships</p>
                  </div>
                </div>
              </div>
            </article>
            <article class="flex flex-col items-start justify-between">
              <div class="relative w-full">
                <img src="./images/scene-04.jpg" alt="" class="aspect-video w-full blog-image bg-gray-100 object-cover sm:aspect-[2/1] lg:aspect-[3/2] dark:bg-gray-800" />
                <div class="absolute inset-0 blog-image-ring ring-1 ring-inset ring-gray-900/10 dark:ring-white/10"></div>
              </div>
              <div class="flex max-w-xl grow flex-col justify-between">
                <div class="mt-2 flex items-center gap-x-4 text-xs">
                  <time datetime="2020-02-12" class="text-gray-500 dark:text-gray-400" data-style="Caption">Feb 12, 2020</time>
                  <a href="#" class="relative z-10 rounded-full px-3 py-1.5 font-medium dark:bg-gray-800/60 dark:text-gray-300 dark:hover:bg-gray-800" style="background: var(--brand-primary-200); color: var(--brand-primary-800);" data-style="Label">Trust & Independence</a>
                </div>
                <div class="group relative grow">
                  <h3 class="mt-2 text-lg/6 font-semibold group-hover:opacity-80 dark:text-white dark:group-hover:text-gray-300" style="color: var(--brand-primary-900);" data-style="H3">
                    <a href="#">
                      <span class="absolute inset-0"></span>
                      How to build trust with your teen — without hovering
                    </a>
                  </h3>
                  <p class="mt-5 line-clamp-3 dark:text-gray-400" style="color: var(--neutral-700);" data-style="Body / M">Teens don’t want to feel watched. Parents don’t want to feel powerless. We explore how transparency, fairness, and restraint create better outcomes for everyone.</p>
                </div>
                <div class="relative mt-4 flex items-center gap-x-4 justify-self-end">
                  <img src="./images/miles-logos/miles-icon-green.png" alt="" class="size-10 rounded-full bg-gray-100 dark:bg-gray-800" data-blog-icon />
                  <div class="text-sm/6">
                    <p class="font-semibold dark:text-white" style="color: var(--brand-primary-900);" data-style="Body / S">
                      <a href="#">
                        <span class="absolute inset-0"></span>
                        Miles Team
                      </a>
                    </p>
                    <p class="dark:text-gray-400" style="color: var(--neutral-500);" data-style="Label">Family Experience</p>
                  </div>
                </div>
              </div>
            </article>
          </div>
        </div>
      </div>
    </article>
    <article class="tile" id="tile-signup">
      <div class="mx-auto max-w-full relative isolate overflow-hidden rounded-2xl px-6 py-12 min-h-[320px] sm:rounded-3xl sm:px-8 sm:py-16 sm:min-h-[360px] xl:px-12 xl:py-20 xl:min-h-[400px] dark:after:pointer-events-none dark:after:absolute dark:after:inset-0 dark:after:ring-1 dark:after:ring-inset dark:after:ring-white/15 dark:after:sm:rounded-3xl signup-shell text-center">
        <div class="mx-auto max-w-xl w-full">
          <h2 class="text-center text-3xl font-semibold tracking-tight text-white sm:text-4xl md:text-5xl" data-style="H2">Coming Soon</h2>
          <p class="mt-4 text-center text-base sm:mt-5 sm:text-lg" style="color: var(--brand-primary-100);" data-style="Subtitle">Join the list to get early access, product updates, and launch-only pricing.</p>
          <form class="mx-auto mt-4 flex flex-col gap-2 sm:mt-6 sm:flex-row sm:items-center sm:gap-3" style="max-width: 400px;">
            <label for="email-address" class="sr-only">Email address</label>
            <input id="email-address" type="email" name="email" required placeholder="name@website.com" autocomplete="email" class="min-w-0 w-full flex-auto rounded-md bg-white px-3.5 py-2 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus-outline-brand sm:text-sm/6 dark:outline-white/20" data-style="Body / M" />
            <button type="submit" class="w-full flex-none rounded-md px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white sm:w-auto dark:shadow-none footer-cta-btn" style="background: var(--brand-primary-500);" data-style="Button">Notify Me</button>
          </form>
        </div>
      </div>
    </article>
    </div>

  </div>
  <script>
    // Theme selector (scoped to tiles container only)
    (function initThemeSelector() {
      const selector = document.getElementById('themeSelector');
      const tilesContainer = document.getElementById('tilesContainer');
      if (!selector || !tilesContainer) return;

      // All possible theme classes
      const allThemeClasses = [
        'theme-primary-light', 'theme-primary-dark',
        'theme-secondary-light', 'theme-secondary-dark',
        'theme-surface-light', 'theme-surface-dark',
        'theme-neutral-light', 'theme-neutral-dark'
      ];

      // Valid theme values
      const validThemes = [
        'primary-light', 'primary-dark',
        'secondary-light', 'secondary-dark',
        'surface-light', 'surface-dark',
        'neutral-light', 'neutral-dark'
      ];

      function applyTheme(themeName) {
        // Remove all existing theme classes from tiles container
        allThemeClasses.forEach(cls => tilesContainer.classList.remove(cls));
        
        // Add new theme class (primary-light is default, no class needed)
        if (themeName !== 'primary-light') {
          tilesContainer.classList.add('theme-' + themeName);
        }

        // Store preference
        try {
          localStorage.setItem('styleguide-theme', themeName);
        } catch (e) {
          // localStorage not available
        }
      }

      // Load saved preference, default to primary-light
      try {
        const saved = localStorage.getItem('styleguide-theme');
        if (saved && validThemes.includes(saved)) {
          selector.value = saved;
          applyTheme(saved);
        } else {
          // Set default to primary-light
          selector.value = 'primary-light';
          applyTheme('primary-light');
        }
      } catch (e) {
        // localStorage not available, use default
        selector.value = 'primary-light';
        applyTheme('primary-light');
      }

      // Handle changes
      selector.addEventListener('change', (e) => {
        applyTheme(e.target.value);
      });
    })();

    // Font theme selector (scoped to tiles container only)
    (function initFontThemeSelector() {
      const selector = document.getElementById('fontThemeSelector');
      const tilesContainer = document.getElementById('tilesContainer');
      if (!selector || !tilesContainer) return;

      // All possible font theme classes
      const allFontThemeClasses = ['font-google-slides'];

      function applyFontTheme(themeName) {
        // Remove all existing font theme classes from tiles container
        allFontThemeClasses.forEach(cls => tilesContainer.classList.remove(cls));
        
        // Add new font theme class (if not 'default')
        if (themeName !== 'default') {
          tilesContainer.classList.add('font-' + themeName);
        }

        // Store preference
        try {
          localStorage.setItem('styleguide-font-theme', themeName);
        } catch (e) {
          // localStorage not available
        }
      }

      // Load saved preference
      try {
        const saved = localStorage.getItem('styleguide-font-theme');
        if (saved && ['default', 'google-slides'].includes(saved)) {
          selector.value = saved;
          applyFontTheme(saved);
        }
      } catch (e) {
        // localStorage not available
      }

      // Handle changes
      selector.addEventListener('change', (e) => {
        applyFontTheme(e.target.value);
      });
    })();

    // Icon selector (for blog preview icons)
    (function initIconSelector() {
      const selector = document.getElementById('iconSelector');
      const tilesContainer = document.getElementById('tilesContainer');
      if (!selector || !tilesContainer) return;

      const iconOptions = {
        'miles-icon-green': './images/miles-logos/miles-icon-green.png',
        'miles-icon-arrow-green': './images/miles-logos/miles-icon-arrow-green.png'
      };

      function applyIcon(iconName) {
        const src = iconOptions[iconName];
        if (!src) return;

        // Update all blog icons
        const icons = tilesContainer.querySelectorAll('[data-blog-icon]');
        icons.forEach(img => {
          img.src = src;
        });

        // Store preference
        try {
          localStorage.setItem('styleguide-blog-icon', iconName);
        } catch (e) {
          // localStorage not available
        }
      }

      // Load saved preference
      try {
        const saved = localStorage.getItem('styleguide-blog-icon');
        if (saved && iconOptions[saved]) {
          selector.value = saved;
          applyIcon(saved);
        }
      } catch (e) {
        // localStorage not available
      }

      // Handle changes
      selector.addEventListener('change', (e) => {
        applyIcon(e.target.value);
      });
    })();

    (function () {
      const el = document.getElementById("tailwind-status");
      if (!el) return;
      const probe = document.createElement("div");
      probe.className = "hidden";
      document.body.appendChild(probe);
      const isHidden = getComputedStyle(probe).display === "none";
      probe.remove();

      if (isHidden) {
        el.className = "inline-flex items-center gap-2 rounded-full border border-green-200 bg-green-50 px-3 py-1 text-sm font-semibold text-green-700";
        el.innerHTML = '<span class="size-2.5 rounded-full bg-green-500"></span>Tailwind: loaded';
      } else {
        el.className = "inline-flex items-center gap-2 rounded-full border border-red-200 bg-red-50 px-3 py-1 text-sm font-semibold text-red-700";
        el.innerHTML = '<span class="size-2.5 rounded-full bg-red-500"></span>Tailwind: missing';
      }
    })();

    // Fade-in observer for tiles
    (function () {
      const tiles = Array.from(document.querySelectorAll(".tile"));
      if (!tiles.length || !("IntersectionObserver" in window)) return;

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("is-visible");
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.2 }
      );

      tiles.forEach((tile) => {
        tile.classList.add("fade-in");
        observer.observe(tile);
      });
    })();

    // Hover style cursor label
    (function initCursorLabel() {
      const labelEl = document.createElement("div");
      labelEl.id = "cursorLabel";
      labelEl.className = "cursor-label";
      labelEl.setAttribute("aria-hidden", "true");
      document.body.appendChild(labelEl);

      let active = false;
      let hoverEnabled = false; // Start disabled

      // Toggle button setup
      const toggleBtn = document.getElementById("toggleHoverLabelBtn");
      if (toggleBtn) {
        toggleBtn.addEventListener("click", () => {
          hoverEnabled = !hoverEnabled;
          toggleBtn.classList.toggle("active", hoverEnabled);
          if (!hoverEnabled) {
            labelEl.classList.remove("show");
            active = false;
          }
        });
      }

      // Check if element is an invisible overlay (absolute positioned covering parent)
      function isInvisibleOverlay(el) {
        if (!el || el.nodeType !== 1) return false;
        const computed = getComputedStyle(el);
        // Check for absolute positioning with inset-0 style (covers entire parent)
        if (computed.position === 'absolute') {
          const hasInsetZero = computed.inset === '0px' || 
            (computed.top === '0px' && computed.right === '0px' && 
             computed.bottom === '0px' && computed.left === '0px');
          // Also check if it's mostly transparent/empty (no background, no text content that's visible)
          if (hasInsetZero) {
            return true;
          }
        }
        return false;
      }

      function updateLabel(event) {
        // Skip if hover labels are disabled
        if (!hoverEnabled) return;

        const x = event.clientX;
        const y = event.clientY;
        
        // Get all elements at cursor position (top to bottom in z-order)
        const elements = document.elementsFromPoint(x, y);
        
        let target = null;
        
        for (const el of elements) {
          // Skip non-element nodes
          if (!el || el.nodeType !== 1) continue;
          
          // Skip cursor label itself
          if (el === labelEl) continue;
          
          // Skip invisible overlay spans (used for full-card click targets)
          if (isInvisibleOverlay(el)) continue;
          
          // Check if this element has data-style directly
          if (el.hasAttribute && el.hasAttribute('data-style')) {
            target = el;
            break;
          }
          
          // Check ancestors for data-style, but skip if we'd go through an overlay
          const closest = el.closest && el.closest('[data-style]');
          if (closest) {
            target = closest;
            break;
          }
        }

        if (target) {
          const text = target.getAttribute("data-style") || "";
          const computed = getComputedStyle(target);
          const fontFamilyRaw = computed.fontFamily || "";
          const fontFamily = fontFamilyRaw.split(",")[0]?.replace(/["']/g, "").trim() || fontFamilyRaw;
          const fontWeight = computed.fontWeight || "";
          const fontSize = computed.fontSize || "";
          const lineHeight = computed.lineHeight || "";

          labelEl.innerHTML = `
            <div class="cursor-label__style">${text}</div>
            <div class="cursor-label__meta">${fontFamily} · ${fontWeight}</div>
            <div class="cursor-label__meta">${fontSize} / ${lineHeight}</div>
          `;
          labelEl.style.top = `${y}px`;
          labelEl.style.left = `${x}px`;
          if (!active) {
            labelEl.classList.add("show");
            active = true;
          }
        } else if (active) {
          labelEl.classList.remove("show");
          active = false;
        }
      }

      document.addEventListener("mousemove", updateLabel);
      document.addEventListener("mouseleave", () => {
        labelEl.classList.remove("show");
        active = false;
      });
    })();

    // Wireframe toggle
    (function initWireframeToggle() {
      const btn = document.getElementById("toggleWireframeBtn");
      if (!btn) return;
      let active = false;
      const labels = new Map();
      let activeEl = null;

      function buildName(el) {
        const tag = el.tagName ? el.tagName.toLowerCase() : "element";
        const id = el.id ? `#${el.id}` : "";
        const classList = typeof el.className === "string" ? el.className.trim().split(/\s+/).filter(Boolean) : [];
        const classSuffix = classList.length ? `.${classList.slice(0, 2).join(".")}` : "";
        return `${tag}${id}${classSuffix}`;
      }

      function buildNestingPath(el) {
        const path = [];
        let current = el;
        let depth = 0;
        const maxDepth = 8; // Limit depth to keep it readable
        
        while (current && depth < maxDepth) {
          const tag = current.tagName ? current.tagName.toLowerCase() : null;
          
          // Stop at body or html
          if (!tag || tag === 'html') break;
          
          path.unshift(buildName(current));
          
          if (tag === 'body') break;
          
          current = current.parentElement;
          depth++;
        }
        
        return path.join(' > ');
      }

      function updateLabel(el, label) {
        const rect = el.getBoundingClientRect();
        const width = Math.round(rect.width);
        const height = Math.round(rect.height);
        const nestingPath = buildNestingPath(el);
        label.textContent = `${buildName(el)} • ${width}×${height}`;
        label.title = nestingPath; // Store full path in title attribute
      }

      function addLabels() {
        document.querySelectorAll("*").forEach((el) => {
          if (labels.has(el)) return;
          if (!(el instanceof HTMLElement)) return;
          if (el.classList.contains("wireframe-label")) return;
          if (["html", "head", "body", "script", "style"].includes(el.tagName.toLowerCase())) return;
          const label = document.createElement("span");
          label.className = "wireframe-label";
          updateLabel(el, label);
          el.appendChild(label);

          const computed = getComputedStyle(el);
          if (computed.position === "static") {
            el.dataset.wireframePosition = "static";
            el.style.position = "relative";
          }

          labels.set(el, label);
        });
      }

      function removeLabels() {
        labels.forEach((label, el) => {
          if (label.parentNode === el) {
            el.removeChild(label);
          }
          if (el.dataset.wireframePosition === "static") {
            el.style.position = "";
            delete el.dataset.wireframePosition;
          }
        });
        labels.clear();
      }

      function refreshLabels() {
        labels.forEach((label, el) => {
          updateLabel(el, label);
        });
      }

      function pickTopElement(elements) {
        for (const el of elements) {
          if (!(el instanceof HTMLElement)) continue;
          if (el.classList.contains("wireframe-label")) continue;
          const tag = el.tagName.toLowerCase();
          if (["html", "head", "body", "script", "style"].includes(tag)) continue;
          if (!labels.has(el)) continue;
          return el;
        }
        return null;
      }

      function setActiveLabel(el) {
        if (activeEl === el) return;
        if (activeEl && labels.has(activeEl)) {
          labels.get(activeEl).classList.remove("is-active");
        }
        activeEl = el;
        if (activeEl && labels.has(activeEl)) {
          labels.get(activeEl).classList.add("is-active");
        }
      }

      let currentNestingPath = '';

      function handleWireframeHover(event) {
        if (!active) return;
        const elements = document.elementsFromPoint(event.clientX, event.clientY);
        const topEl = pickTopElement(elements);
        setActiveLabel(topEl);
        
        // Update nesting tooltip
        if (topEl) {
          const nestingPath = buildNestingPath(topEl);
          currentNestingPath = nestingPath;
          nestingTooltip.textContent = nestingPath;
          nestingTooltip.classList.add('show');
        } else {
          currentNestingPath = '';
          nestingTooltip.classList.remove('show');
        }
      }

      // Handle keyboard shortcut to copy path
      function handleKeyPress(event) {
        if (!active) return;
        
        // Press 'c' to copy the current nesting path
        if (event.key === 'c' || event.key === 'C') {
          if (currentNestingPath) {
            navigator.clipboard.writeText(currentNestingPath).then(() => {
              // Show feedback
              const originalText = nestingTooltip.textContent;
              nestingTooltip.textContent = '✓ Copied to clipboard!';
              nestingTooltip.style.background = 'rgba(34, 197, 94, 0.96)';
              
              setTimeout(() => {
                nestingTooltip.textContent = originalText;
                nestingTooltip.style.background = '';
              }, 1000);
            }).catch(err => {
              console.error('Failed to copy:', err);
              const originalText = nestingTooltip.textContent;
              nestingTooltip.textContent = '✗ Copy failed';
              nestingTooltip.style.background = 'rgba(239, 68, 68, 0.96)';
              
              setTimeout(() => {
                nestingTooltip.textContent = originalText;
                nestingTooltip.style.background = '';
              }, 1000);
            });
          }
        }
      }

      // Create nesting tooltip
      const nestingTooltip = document.createElement('div');
      nestingTooltip.className = 'nesting-tooltip';
      document.body.appendChild(nestingTooltip);

      window.addEventListener("resize", refreshLabels);

      btn.addEventListener("click", () => {
        active = !active;
        document.body.classList.toggle("wireframe-mode", active);
        btn.classList.toggle("active", active);
        if (active) {
          addLabels();
          refreshLabels();
          document.addEventListener("mousemove", handleWireframeHover);
          document.addEventListener("keydown", handleKeyPress);
        } else {
          document.removeEventListener("mousemove", handleWireframeHover);
          document.removeEventListener("keydown", handleKeyPress);
          setActiveLabel(null);
          nestingTooltip.classList.remove('show');
          currentNestingPath = '';
          removeLabels();
        }
      });
    })();

    // Tile visibility toggles
    (function initTileToggles() {
      const container = document.getElementById("tileToggles");
      if (!container) return;
      container.addEventListener("change", (event) => {
        const input = event.target;
        if (!input.matches("input[type='checkbox'][data-target]")) return;
        const id = input.getAttribute("data-target");
        const tile = document.getElementById(id);
        if (!tile) return;
        tile.style.display = input.checked ? "" : "none";
      });
    })();

    // Tile reorder UI
    (function initTileReorder() {
      const listEl = document.getElementById("tileOrderList");
      const container = document.getElementById("tilesContainer");
      if (!listEl || !container) return;

      const nameMap = {
        "tile-hero": "Hero Split",
        "tile-blog-grid": "Blog Grid",
        "tile-signup": "Signup CTA",
      };

      let order = Array.from(container.children).map((child) => child.id).filter(Boolean);

      function applyOrder() {
        order.forEach((id) => {
          const el = document.getElementById(id);
          if (el) container.appendChild(el);
        });
      }

      function renderList() {
        listEl.innerHTML = order
          .map((id, idx) => {
            const upDisabled = idx === 0 ? "disabled" : "";
            const downDisabled = idx === order.length - 1 ? "disabled" : "";
            return `
              <div style="display:flex; align-items:center; gap:8px;">
                <span style="flex:1;">${nameMap[id] || id}</span>
                <button type="button" data-target="${id}" data-dir="up" ${upDisabled} style="padding:4px 6px; border:1px solid var(--neutral-300); border-radius:8px; background:var(--neutral-0); cursor:pointer;">↑</button>
                <button type="button" data-target="${id}" data-dir="down" ${downDisabled} style="padding:4px 6px; border:1px solid var(--neutral-300); border-radius:8px; background:var(--neutral-0); cursor:pointer;">↓</button>
              </div>
            `;
          })
          .join("");
      }

      listEl.addEventListener("click", (event) => {
        const btn = event.target.closest("button[data-target][data-dir]");
        if (!btn) return;
        const id = btn.getAttribute("data-target");
        const dir = btn.getAttribute("data-dir");
        const idx = order.indexOf(id);
        if (idx === -1) return;
        if (dir === "up" && idx > 0) {
          [order[idx - 1], order[idx]] = [order[idx], order[idx - 1]];
        }
        if (dir === "down" && idx < order.length - 1) {
          [order[idx + 1], order[idx]] = [order[idx], order[idx + 1]];
        }
        applyOrder();
        renderList();
      });

      renderList();
    })();

    // Settings panel toggle
    (function initSettingsToggle() {
      const btn = document.getElementById("toggleSettingsBtn");
      const panel = document.getElementById("settingsPanel");
      if (!btn || !panel) return;
      let open = false;
      const update = () => {
        panel.style.display = open ? "grid" : "none";
        btn.textContent = open ? "Hide settings" : "Show settings";
      };
      btn.addEventListener("click", () => {
        open = !open;
        update();
      });
      update();
    })();

    // Font styles toggle - show labels on all [data-style] elements
    (function initFontStylesToggle() {
      const btn = document.getElementById("toggleFontStylesBtn");
      if (!btn) return;

      let isActive = false;
      let labelsCreated = false;

      function createStyleLabels() {
        if (labelsCreated) return;
        
        const elements = document.querySelectorAll('[data-style]');
        elements.forEach((el) => {
          const styleValue = el.getAttribute('data-style');
          if (!styleValue) return;
          
          // Skip color chips and other decorative elements
          if (el.classList.contains('color-chip')) return;
          
          // Create the label element
          const label = document.createElement('span');
          label.className = 'style-label';
          label.textContent = styleValue;
          label.setAttribute('aria-hidden', 'true');
          
          // Insert as first child of the element
          el.insertBefore(label, el.firstChild);
        });
        
        labelsCreated = true;
      }

      function update() {
        if (isActive) {
          createStyleLabels();
          document.body.classList.add('show-font-styles');
          btn.classList.add('active');
        } else {
          document.body.classList.remove('show-font-styles');
          btn.classList.remove('active');
        }
      }

      btn.addEventListener('click', () => {
        isActive = !isActive;
        update();
      });

      update();
    })();

    // Populate colors from CSS variables
    (function initColorsDisplay() {
      const container = document.getElementById('colorsGridContainer');
      if (!container) return;

      const rootStyles = getComputedStyle(document.documentElement);
      
      // Function to get CSS variable value
      function getCSSVar(varName) {
        return rootStyles.getPropertyValue(varName).trim();
      }

      // Function to format color name
      function formatColorName(varName) {
        // Remove -- prefix and split by dashes
        const parts = varName.replace('--', '').split('-');
        return parts.map((part, idx) => {
          // Capitalize first letter of each word except numbers
          return isNaN(part) ? part.charAt(0).toUpperCase() + part.slice(1) : part;
        }).join(' ');
      }

      // Define colors to display (organized by category)
      const colorGroups = [
        {
          title: 'Brand Primary',
          colors: [
            '--brand-primary-50',
            '--brand-primary-100',
            '--brand-primary-200',
            '--brand-primary-300',
            '--brand-primary-400',
            '--brand-primary-500',
            '--brand-primary-600',
            '--brand-primary-700',
            '--brand-primary-800',
            '--brand-primary-900',
            '--brand-primary-950'
          ]
        },
        {
          title: 'Neutrals',
          colors: [
            '--neutral-0',
            '--neutral-50',
            '--neutral-100',
            '--neutral-200',
            '--neutral-300',
            '--neutral-400',
            '--neutral-500',
            '--neutral-600',
            '--neutral-700',
            '--neutral-800',
            '--neutral-900',
            '--neutral-950'
          ]
        }
      ];

      let html = '';
      
      colorGroups.forEach(group => {
        group.colors.forEach(varName => {
          const value = getCSSVar(varName);
          if (value) {
            const displayName = formatColorName(varName);
            html += `
              <div class="color-item">
                <span class="color-chip" style="background: var(${varName})"></span>
                <span data-style="Body / S">${displayName} ${value.toUpperCase()}</span>
              </div>
            `;
          }
        });
      });

      container.innerHTML = html;
    })();

    // Color hover tooltip
    (function initColorHover() {
      const labelEl = document.createElement("div");
      labelEl.id = "colorHoverLabel";
      labelEl.className = "cursor-label";
      labelEl.setAttribute("aria-hidden", "true");
      document.body.appendChild(labelEl);

      let active = false;
      let colorHoverEnabled = false;

      const toggleBtn = document.getElementById("toggleColorHoverBtn");
      if (toggleBtn) {
        toggleBtn.addEventListener("click", () => {
          colorHoverEnabled = !colorHoverEnabled;
          toggleBtn.classList.toggle("active", colorHoverEnabled);
          if (!colorHoverEnabled) {
            labelEl.classList.remove("show");
            active = false;
          }
        });
      }

      // Build a map of all CSS color variables and their values
      const colorMap = {};
      const rootStyles = getComputedStyle(document.documentElement);
      
      function buildColorMap() {
        // Get all brand and neutral colors
        const colorVars = [
          '--brand-primary-50', '--brand-primary-100', '--brand-primary-200', '--brand-primary-300',
          '--brand-primary-400', '--brand-primary-500', '--brand-primary-600', '--brand-primary-700',
          '--brand-primary-800', '--brand-primary-900', '--brand-primary-950',
          '--brand-secondary-50', '--brand-secondary-100', '--brand-secondary-200', '--brand-secondary-300',
          '--brand-secondary-400', '--brand-secondary-500', '--brand-secondary-600', '--brand-secondary-700',
          '--brand-secondary-800', '--brand-secondary-900', '--brand-secondary-950',
          '--brand-tertiary-50', '--brand-tertiary-100', '--brand-tertiary-200', '--brand-tertiary-300',
          '--brand-tertiary-400', '--brand-tertiary-500', '--brand-tertiary-600', '--brand-tertiary-700',
          '--brand-tertiary-800', '--brand-tertiary-900', '--brand-tertiary-950',
          '--neutral-0', '--neutral-50', '--neutral-100', '--neutral-200', '--neutral-300',
          '--neutral-400', '--neutral-500', '--neutral-600', '--neutral-700',
          '--neutral-800', '--neutral-900', '--neutral-950',
          '--success-primary', '--success-secondary', '--fail-primary', '--fail-secondary'
        ];

        colorVars.forEach(varName => {
          const value = rootStyles.getPropertyValue(varName).trim();
          if (value) {
            // Normalize to uppercase hex
            const normalized = value.toUpperCase();
            colorMap[normalized] = varName;
          }
        });
      }

      buildColorMap();

      // Function to convert RGB to hex
      function rgbToHex(rgb) {
        const match = rgb.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)$/);
        if (!match) return null;
        
        const hex = (r, g, b) => {
          return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
        };
        
        return hex(parseInt(match[1]), parseInt(match[2]), parseInt(match[3]));
      }

      // Function to get short name (e.g., "G-500" for brand-primary-500)
      function getShortName(varName) {
        if (varName.includes('brand-primary')) {
          const num = varName.match(/\d+$/);
          return num ? `G-${num[0]}` : varName;
        }
        if (varName.includes('brand-secondary')) {
          const num = varName.match(/\d+$/);
          return num ? `S-${num[0]}` : varName;
        }
        if (varName.includes('brand-tertiary')) {
          const num = varName.match(/\d+$/);
          return num ? `B-${num[0]}` : varName;
        }
        if (varName.includes('neutral')) {
          const num = varName.match(/\d+$/);
          return num ? `N-${num[0]}` : varName;
        }
        return varName.replace('--', '');
      }

      function updateColorLabel(event) {
        if (!colorHoverEnabled) return;

        const x = event.clientX;
        const y = event.clientY;
        const elements = document.elementsFromPoint(x, y);

        let foundColor = null;
        let hexValue = null;

        for (const el of elements) {
          if (!el || el.nodeType !== 1) continue;
          if (el === labelEl) continue;

          const computed = getComputedStyle(el);
          
          // Check color, background-color, and border-color
          const props = ['color', 'backgroundColor', 'borderColor'];
          
          for (const prop of props) {
            const colorValue = computed[prop];
            if (!colorValue || colorValue === 'rgba(0, 0, 0, 0)' || colorValue === 'transparent') continue;
            
            const hex = rgbToHex(colorValue);
            if (hex && colorMap[hex]) {
              foundColor = colorMap[hex];
              hexValue = hex;
              break;
            }
          }
          
          if (foundColor) break;
        }

        if (foundColor && hexValue) {
          const shortName = getShortName(foundColor);
          const fullName = foundColor.replace('--', '');
          
          labelEl.innerHTML = `
            <div class="cursor-label__style">${shortName}</div>
            <div class="cursor-label__meta">${fullName}</div>
            <div class="cursor-label__meta">${hexValue}</div>
          `;
          labelEl.style.top = `${y}px`;
          labelEl.style.left = `${x}px`;
          
          if (!active) {
            labelEl.classList.add("show");
            active = true;
          }
        } else if (active) {
          labelEl.classList.remove("show");
          active = false;
        }
      }

      document.addEventListener("mousemove", updateColorLabel);
      document.addEventListener("mouseleave", () => {
        labelEl.classList.remove("show");
        active = false;
      });
    })();
  </script>
  <script>
    // Show admin controls if user is admin
    (function initAdminControls() {
      const isAdmin = window.__USER_IS_ADMIN__ || false;
      if (isAdmin) {
        document.querySelectorAll('.admin-only').forEach(el => {
          el.style.display = '';
        });
      }
    })();
  </script>
  <script src="sidebar-nav.js"></script>
</body>
</html>
